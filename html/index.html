<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ROCK-PAPER-SCISSORS</title>
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/layout.css" />
  </head>
  <body>
    <div class="wrap">
      <h1>ROCK-PAPER-SCISSORS</h1>
      <div id="com">
        <ul>
          <li><img src="../images/rock.svg" alt="" /></li>
          <li><img src="../images/paper.svg" alt="" /></li>
          <li><img src="../images/scissors.svg" alt="" /></li>
        </ul>
      </div>
      <div id="player">
        <ul>
          <li><img src="../images/rock.svg" alt="" /></li>
          <li><img src="../images/paper.svg" alt="" /></li>
          <li><img src="../images/scissors.svg" alt="" /></li>
        </ul>
      </div>
      <div id="result">
        <ul>
          <li class="win">W</li>
          <li class="lose">L</li>
          <li class="draw">D</li>
        </ul>
      </div>
    </div>
  </body>
  <script>
    const tempArray = ["apple", "banana", "orange"];

    //iterable
    tempArray.forEach((element, index, array) => {
      //console.log(element, "===", index, "===", array);
    });

    let sel = 0;
    const comList = document.querySelectorAll("#com ul li"); // 배열처럼 생겨먹은 유사 배열  NodeList
    const players = document.querySelectorAll("#player ul li"); // 배열처럼 생겨먹은 유사 배열  NodeList
    const playersList = document.querySelector("#player ul"); // 배열처럼 생겨먹은 유사 배열  NodeList

    // for (let i = 0; i < comList.length; i++) {
    //   comList[i].style.display = "none";
    // }

    //console.log(comList);

    //let count = 0;
    //비동기 실행... 나중에  setInterval, setTimeout, node에 걸린 이벤트, ajax
    const comChoice = () => {
      comList.forEach((element, index) => {
        element.style.display = "none";
      });
      sel = Math.floor(Math.random() * 3); //0 ~ 2.99999999
      comList[sel].style.display = "block"; //0,1,2
    };
    let clearIdx = setInterval(comChoice, 30);
    players.forEach((element, index) => {
      element.addEventListener("click", () => {
        clearInterval(clearIdx); // 멈추기
        element.classList.add("on");
        playersList.classList.add("prevent");
        console.log(sel, "====", index);

        //다른거 li에 있는 class on 지우기...
        if (sel === index) {
          //console.log("비김");
        } else if ((sel === 0 && index === 1) || (sel === 1 && index === 2) || (sel === 2 && index === 0)) {
          //console.log("이김");
        } else {
          //console.log("짐");
        }
        setTimeout(() => {
          clearIdx = setInterval(comChoice, 30);
          element.classList.remove("on");
          playersList.classList.remove("prevent");
        }, 1000);
      });
    });
  </script>

  <script>
    //const num01 = 10; // Number
    //const num02 = "10"; // String
    //console.log(num01 !== num02); // Boolean  true/false
  </script>
</html>
